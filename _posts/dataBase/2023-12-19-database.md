---
title:  "데이터베이스"
category: Database
typora-root-url: ../
toc: true
toc_sticky: true
---



## <br>데이터 베이스(Data Base)

- 전자적으로 저장되고 체계적인 데이터 모음
- DBMS (데이터베이스 관리 시스템) 라는 소프트웨어를 사용하여 데이터를 저장, 검색 및 편집



### <br>데이터베이스 특징

- 실시간 접근성(real  time accessibility)
- 계속적인 변화(continuous change)
  - 생성, 수정, 삭제를 통한 최신 데이터 유지
- 동시 공유(concurrent sharing)
- 내용에 따른 참조(reference by content)
  - 사용자가 원하는 데이터를 주소가 아닌 내용에 따라 참조 가능
- 데이터 독립성(Data Independence)

### <br>DBMS(DataBase Management System)

- 데이터베이스를 운영하고 관리하는 소프트웨어

- SQL(Structured Query Language)
  - DBMS에서 사용하는 언어

- DBMS 유형
  - 계층형(Hierarchical)

  - 망형(Network)

  - 관계형(Relational)
    - 가장 많이 사용하는 데이터베이스

    - 데이블의 행과 열로 구성 

      <img src="/../images/2023-12-19-database/img_mysql_table.png" alt="img_mysql_table" style="zoom:50%;" />

- 객체지향형(Object-Oriented)
- 객체관계형(Object-Relational)

- RDBMS : 정형화된 데이터 관리
- NoSQL : 비정형 데이터 관리



### <br>SQL 명령어

- 데이터 정의어(DDL: Data Definition Language)
  - CREATE, UPDATE, ALTER, TRUNCATE
- 데이터 조작어(DML: Data Manipulation Lauguage)
  - CRUD: INSERT, UPDATE, DELETE, SELECT
- 데이터 제어어(DCL: Data Control Language)
  - GRANT, REVOKE, TRANSACTION, COMMIT, ROLLBACK ..



### <br>SQL 데이터 자료형

|                                 |           ORACLE           |                        MYSQL/MariaDB                         |                          SQL Server                          |                          PostgreSQL                          |
| :-----------------------------: | :------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|    숫자<br />(Numeric Type)     |   **NUMBER**<br />FLOAT    | TINTINT<br />SMALLINT<br />**INT**<br />BIGINT<br />DECIMAL<br />FLOAT<br />**DOUBLE** | BIGINT<br />**INT**<br />SMALLINT<br />TINYINT<br />NUMERIC/DECIMAL<br />FLOAT<br />REAL | SMALLINT<br />**INTEGER**<br />BIGINT<br />DECIMAL<br />NUMERIC<br />REAL<br />DOUBLE |
|   문자(열)<br />(String Type)   | **CHAR**<br />**VARCHAR2** |                  **CHAR**<br />**VARCHAR**                   |                  **CHAR**<br />**VARCHAR**                   |                  **CHAR**<br />**VARCHAR**                   |
|             boolean             |                            |                             BIT                              |                             BIT                              |                           BOOLEAN                            |
| 날짜/시간<br />(Date/Time Type) |    DATE<br />TIMESTAMP     | **DATE**<br />TIME<br />**DATETIME**<br />**TIMESTAMP**<br />YEAR | DATE<br />DATETIME<br />DATETIME2<br />SMALLDATETIME<br />TIME |                DATE<br />TIME<br />TIMESTAMP                 |
|             큰 객체             |  LONG<br />CLOB<br />BLOB  |   **TEXT**<br />MEDIUMTEXT<br />**LONGTEXT**<br />**BLOB**   |                 TEXT<br />BINARY<br />IMAGE                  |                             TEXT                             |

### <br>기본 문법

- 수정사항 반영
  - FLUSH PRIVILEGES
- CREATE: 데이터베이스,계정,테이블을 생성

```sql
# 데이터베이스 생성
CREATE DATABASE 데이터베이스이름

# 계정 생성
CREATE USER 'ID'@'localhost' IDENTIFIED BY 'PASSWORD'
CREATE USER 'ID'@'%' IDENTIFIED BY 'PASSWORD'

# 테이블 생성
CREATE TABLE 테이블이름 (
    필드이름1 필드타입1,
    필드이름2 필드타입2,
    ...
)
```

- DROP: 데이터베이스,계정,테이블을 삭제

```sql
# 데이터베이스 삭제
DROP DATABASE 데이터베이스이름;

# 계정 삭제
DROP USER 'ID'@'localhost' IDENTIFIED BY 'PASSWORD'
DROP USER 'ID'@'%' IDENTIFIED BY 'PASSWORD'

# 테이블 삭제(테이블 전체를 삭제)
DROP TABLE 테이블이름
# 테이블의 내용만 전체 삭제
TRUNCATE TABLE 테이블이름
```

- GRANT: 데이터베이스의 권한 부여

```sql
GRANT ALL PRIVILEGES ON 데이터베이스이름.* TO 'ID'@'%' IDENTIFIED BY 'PASSWORD'
```

- ALTER: 데이터베이스와 테이블의 내용을 수정

```sql
# 데이터베이스 수정
1. ALTER DATABASE 데이터베이스이름 CHARACTER SET=문자집합이름
2. ALTER DATABASE 데이터베이스이름 COLLATE=콜레이션이름

# 새로운 필드 추가
ALTER TABLE 테이블이름 ADD 필드이름 필드타입

#기존 필드의 삭제
ALTER TABLE 테이블이름 DROP 필드이름

#필드 타입 변경
ALTER TABLE 테이블이름 MODIFY COLUMN 필드이름 필드타입
```

- INSERT: 테이블에 새로운 레코드 추가

```sql
INSERT INTO 테이블명(필드이름1, 필드이름2, ...) VALUES(값1, 값2, ...);
```



### <br>제약 조건

- NOT NULL: 해당 필드는 NULL 값을 저장할 수 없음

```sql
# CREATE 문으로 NOT NULL 설정
CREATE TABLE 테이블이름 (
       필드이름 필드타입 NOT NULL,
       ...
   )

# ALTER 문으로 NOT NULL 설정
ALTER TABLE 테이블이름
ADD 필드이름 필드타입 NOT NULL
```

- UNIQUE:  설정된 필드는 중복된 값을 저장할 수 없음

```sql
# CREATE 문으로 UNIQUE 설정
1. CREATE TABLE 테이블이름 (
       필드명 필드타입 UNIQUE,
       ...
   )

2. CREATE TABLE 테이블이름 (
       필드이름 필드타입,
       ...,
       [CONSTRAINT 제약조건이름] UNIQUE (필드이름)
   )

# ALTER 문으로 UNIQUE 설정
1. ALTER TABLE 테이블이름
   ADD 필드이름 필드타입 UNIQUE

2. ALTER TABLE 테이블이름
   ADD [CONSTRAINT 제약조건이름] UNIQUE (필드이름)
```

- PRIMARY KEY: NOT NULL + UNIQUE

```sql
# CREATE 문으로 PRIMARY KEY 설정
1. CREATE TABLE 테이블이름 (
       필드이름 필드타입 PRIMARY KEY,
       ...
   )

2. CREATE TABLE 테이블이름 (
       필드이름 필드타입,
       ...,
       [CONSTRAINT 제약조건이름] PRIMARY KEY (필드이름)
)

# ALTER 문으로 PRIMARY KEY 설정
1. ALTER TABLE 테이블이름
   ADD 필드이름 필드타입 PRIMARY KEY
2. ALTER TABLE 테이블이름
   ADD [CONSTRAINT 제약조건이름] PRIMARY KEY (필드이름)
```

- FOREIGN KEY
  - 한 테이블을 다른 테이블과 연결해주는 역할
  - FOREIGN KEY 제약 조건은 하나의 테이블을 다른 테이블에 의존

```sql
# CREATE 문으로 FOREIGN KEY 설정
CREATE TABLE 테이블이름 (
    필드이름 필드타입,...,
    [CONSTRAINT 제약조건이름]
    FOREIGN KEY (필드이름)
    REFERENCES 테이블이름 (필드이름)
)

# ALTER 문으로 FOREIGN KEY 설정
ALTER TABLE 테이블이름
ADD [CONSTRAINT 제약조건이름]
FOREIGN KEY (필드이름)
REFERENCES 테이블이름 (필드이름)
```

